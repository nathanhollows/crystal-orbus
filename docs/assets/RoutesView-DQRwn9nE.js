import{B as f,f as v}from"./BusTrackerAPI-CiRPgcqa.js";import{g,r as u,o as y,a as B,c as o,d as m,F as _,e as w,f as S}from"./index-DRCTT5-4.js";const x=g({__name:"RoutesView",props:{routeName:{},stops:{}},setup(i){var p;const n=i;let e=n.routeName;e=e.replace(/-/g," ");const d=(((p=n.stops.match(/([0-9-]+)/))==null?void 0:p[1])??"").replace(/-/g," ").split(" "),r=u([{name:e,stops:d,data:[]}]),l=async()=>{await Promise.all(r.value.map(async s=>{const c=await Promise.all(s.stops.map(async a=>await v(a)));s.data=c}))},t=u(void 0);return y(async()=>{await l(),t.value=setInterval(l,15e3)}),B(()=>{t.value&&clearInterval(t.value)}),(s,c)=>(o(),m("main",null,[(o(!0),m(_,null,w(r.value,a=>(o(),S(f,{key:a.name,group:a},null,8,["group"]))),128))]))}});export{x as default};
