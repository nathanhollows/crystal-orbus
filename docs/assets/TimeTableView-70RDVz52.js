import{B as d,f}from"./BusStopGroup-BwS8sZmu.js";import{f as _,g,o as y,a as B,b as s,c as l,F as v,d as w,e as S}from"./index-CmCQup8_.js";const h={class:"mt-24"},x=_({__name:"TimeTableView",props:{routeName:{},stops:{}},setup(m){var c;const o=m;let a=o.routeName;a=a.replace(/-/g," ");const u=(((c=o.stops.match(/([0-9-]+)/))==null?void 0:c[1])??"").replace(/-/g," ").split(" "),n=g([{name:a,stops:u,data:[]}]),r=async()=>{await Promise.all(n.value.map(async e=>{const p=await Promise.all(e.stops.map(async t=>await f(t)));e.data=p}))},i=setInterval(r,15e3);return y(async()=>{await r()}),B(()=>{clearInterval(i)}),(e,p)=>(s(),l("main",h,[(s(!0),l(v,null,w(n.value,t=>(s(),S(d,{key:t.name,group:t},null,8,["group"]))),128))]))}});export{x as default};
